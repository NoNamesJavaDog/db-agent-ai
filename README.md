# ğŸ¤– DB Agent - æ•°æ®åº“æ™ºèƒ½åŠ©æ‰‹

> **è®© DBA å¤±ä¸šçš„ AI æ•°æ®åº“ç®¡ç†ä¸“å®¶** â€”â€” è‡ªç„¶è¯­è¨€æ“ä½œæ•°æ®åº“ï¼ŒSQL ä¼˜åŒ–ã€æ€§èƒ½è¯Šæ–­ã€æ•°æ®ç®¡ç†ä¸€å¥è¯æå®š

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-12+-336791.svg)](https://postgresql.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

---

## ğŸ“– ç›®å½•

- [äº§å“ä»‹ç»](#-äº§å“ä»‹ç»)
- [æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [å®‰è£…éƒ¨ç½²](#-å®‰è£…éƒ¨ç½²)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ä½¿ç”¨åœºæ™¯](#-ä½¿ç”¨åœºæ™¯)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [API æœåŠ¡](#-api-æœåŠ¡)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

---

## ğŸ¯ äº§å“ä»‹ç»

**DB Agent** æ˜¯ä¸€æ¬¾é©å‘½æ€§çš„ AI æ•°æ®åº“ç®¡ç†åŠ©æ‰‹ï¼Œå®ƒå°†å¤æ‚çš„æ•°æ®åº“æ“ä½œè½¬åŒ–ä¸ºç®€å•çš„è‡ªç„¶è¯­è¨€å¯¹è¯ã€‚æ— è®ºä½ æ˜¯å¼€å‘è€…ã€æ•°æ®åˆ†æå¸ˆè¿˜æ˜¯äº§å“ç»ç†ï¼Œéƒ½å¯ä»¥é€šè¿‡ä¸ AI å¯¹è¯çš„æ–¹å¼å®Œæˆæ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥ã€æ€§èƒ½ä¼˜åŒ–ã€ç»“æ„è®¾è®¡ç­‰å·¥ä½œã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© DB Agentï¼Ÿ

| ä¼ ç»Ÿ DBA æ–¹å¼ | DB Agent æ–¹å¼ |
|--------------|---------------|
| éœ€è¦ç²¾é€š SQL è¯­æ³• | ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ |
| æ‰‹åŠ¨åˆ†ææ‰§è¡Œè®¡åˆ’ | AI è‡ªåŠ¨è¯Šæ–­æ€§èƒ½é—®é¢˜ |
| æŸ¥é˜…æ–‡æ¡£ç¼–å†™å¤æ‚æŸ¥è¯¢ | ä¸€å¥è¯ç”Ÿæˆä¼˜åŒ– SQL |
| éœ€è¦äº†è§£è¡¨ç»“æ„æ‰èƒ½æ“ä½œ | AI è‡ªåŠ¨æ¢ç´¢æ•°æ®åº“ç»“æ„ |
| ç´¢å¼•ä¼˜åŒ–éœ€è¦ä¸°å¯Œç»éªŒ | æ™ºèƒ½æ¨èæœ€ä½³ç´¢å¼•ç­–ç•¥ |
| 7x24 å°æ—¶å¾…å‘½ | AI æ°¸ä¸ç–²å€¦éšæ—¶å“åº” |

### æ ¸å¿ƒä¼˜åŠ¿

- **ğŸ§  æ™ºèƒ½ç†è§£** - åŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ŒçœŸæ­£ç†è§£ä½ çš„æ„å›¾
- **ğŸ”’ å®‰å…¨å¯æ§** - å±é™©æ“ä½œéœ€äºŒæ¬¡ç¡®è®¤ï¼Œæœç»è¯¯æ“ä½œ
- **ğŸŒ å¤šæ¨¡å‹æ”¯æŒ** - æ”¯æŒ DeepSeekã€OpenAIã€Claudeã€Geminiã€é€šä¹‰åƒé—®ç­‰ä¸»æµæ¨¡å‹
- **ğŸ‡¨ğŸ‡³ ä¸­è‹±åŒè¯­** - å®Œç¾æ”¯æŒä¸­æ–‡äº¤äº’ï¼Œå‘Šåˆ«è¯­è¨€éšœç¢
- **ğŸ“Š ç‰ˆæœ¬æ„ŸçŸ¥** - è‡ªåŠ¨è¯†åˆ«æ•°æ®åº“ç‰ˆæœ¬ï¼Œç”Ÿæˆå…¼å®¹çš„ SQL
- **âš¡ å®æ—¶åé¦ˆ** - å·¥å…·è°ƒç”¨è¿‡ç¨‹é€æ˜å¯è§ï¼Œæ‰§è¡Œç»“æœå³æ—¶å±•ç¤º

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### 1. æ•°æ®æŸ¥è¯¢ä¸æ“ä½œ
```
ğŸ‘¤ ç”¨æˆ·: æŸ¥çœ‹ users è¡¨é‡Œä¸Šä¸ªæœˆæ³¨å†Œçš„ç”¨æˆ·æœ‰å¤šå°‘
ğŸ¤– Agent: æ­£åœ¨æŸ¥è¯¢... ä¸Šä¸ªæœˆå…±æœ‰ 1,234 ä½æ–°ç”¨æˆ·æ³¨å†Œ

ğŸ‘¤ ç”¨æˆ·: æŠŠçŠ¶æ€ä¸º inactive ä¸”è¶…è¿‡ä¸€å¹´æ²¡ç™»å½•çš„ç”¨æˆ·æ ‡è®°ä¸º archived
ğŸ¤– Agent: è¿™ä¸ªæ“ä½œä¼šå½±å“ 856 æ¡è®°å½•ï¼Œç¡®è®¤æ‰§è¡Œå—ï¼Ÿ[æ˜¯/å¦]
```

### 2. è¡¨ç»“æ„ç®¡ç†
```
ğŸ‘¤ ç”¨æˆ·: å¸®æˆ‘åˆ›å»ºä¸€ä¸ªå•†å“è¡¨ï¼ŒåŒ…å«åç§°ã€ä»·æ ¼ã€åº“å­˜ã€åˆ†ç±»
ğŸ¤– Agent: å¥½çš„ï¼Œæˆ‘æ¥åˆ›å»º products è¡¨...
         [å±•ç¤ºå»ºè¡¨ SQLï¼Œç­‰å¾…ç¡®è®¤]

ğŸ‘¤ ç”¨æˆ·: ç»™ orders è¡¨åŠ ä¸€ä¸ª shipping_address å­—æ®µ
ğŸ¤– Agent: å·²æ·»åŠ  shipping_address å­—æ®µ (VARCHAR(500))
```

### 3. æ€§èƒ½è¯Šæ–­ä¸ä¼˜åŒ–
```
ğŸ‘¤ ç”¨æˆ·: è¿™ä¸ªæŸ¥è¯¢å¾ˆæ…¢ï¼Œå¸®æˆ‘åˆ†æä¸€ä¸‹ï¼šSELECT * FROM orders WHERE user_id = 123
ğŸ¤– Agent: åˆ†æç»“æœï¼š
         âŒ é—®é¢˜ï¼šuser_id åˆ—ç¼ºå°‘ç´¢å¼•ï¼Œå¯¼è‡´å…¨è¡¨æ‰«æ
         âœ… å»ºè®®ï¼šCREATE INDEX idx_orders_user_id ON orders(user_id)
         ğŸ“ˆ é¢„æœŸæå‡ï¼šæŸ¥è¯¢é€Ÿåº¦æå‡ 50-100 å€
```

### 4. ç´¢å¼•ç®¡ç†
```
ğŸ‘¤ ç”¨æˆ·: æ£€æŸ¥ orders è¡¨çš„ç´¢å¼•ä½¿ç”¨æƒ…å†µ
ğŸ¤– Agent: å‘ç° 3 ä¸ªç´¢å¼•ï¼š
         âœ… idx_orders_pkey - ä½¿ç”¨é¢‘ç¹ (125,000 æ¬¡æ‰«æ)
         âœ… idx_orders_user_id - ä½¿ç”¨æ­£å¸¸ (45,000 æ¬¡æ‰«æ)
         âš ï¸ idx_orders_old_status - ä»æœªä½¿ç”¨ï¼Œå»ºè®®åˆ é™¤ (èŠ‚çœ 128MB)
```

### 5. æ•°æ®åº“å¥åº·æ£€æŸ¥
```
ğŸ‘¤ ç”¨æˆ·: æ£€æŸ¥æ•°æ®åº“çš„æ•´ä½“å¥åº·çŠ¶æ€
ğŸ¤– Agent: å¥åº·æŠ¥å‘Šï¼š
         ğŸ“Š è¡¨æ•°é‡ï¼š23 ä¸ª
         ğŸ’¾ æ€»å¤§å°ï¼š4.5 GB
         âš ï¸ å‘ç° 3 ä¸ªè¡¨æœ‰å¤§é‡æ­»å…ƒç»„ï¼Œå»ºè®®æ‰§è¡Œ VACUUM
         âš ï¸ æœ‰ 2 ä¸ªæ…¢æŸ¥è¯¢éœ€è¦ä¼˜åŒ–
```

---

## ğŸ— ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DB Agent                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   CLI ç•Œé¢   â”‚  â”‚  API æœåŠ¡   â”‚  â”‚  Web ç•Œé¢   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                â”‚                â”‚                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                          â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   SQLTuningAgent                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ å¯¹è¯ç®¡ç†å™¨   â”‚  â”‚  å·¥å…·æ‰§è¡Œå™¨  â”‚  â”‚ å®‰å…¨ç¡®è®¤æœºåˆ¶  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                                  â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚         â–¼                â–¼                â–¼                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ LLM å®¢æˆ·ç«¯   â”‚  â”‚ æ•°æ®åº“å·¥å…·   â”‚  â”‚   å›½é™…åŒ–     â”‚        â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚        â”‚
â”‚  â”‚ â€¢ DeepSeek  â”‚  â”‚ â€¢ æŸ¥è¯¢æ‰§è¡Œ   â”‚  â”‚ â€¢ ä¸­æ–‡      â”‚        â”‚
â”‚  â”‚ â€¢ OpenAI    â”‚  â”‚ â€¢ è¡¨ç»“æ„ç®¡ç† â”‚  â”‚ â€¢ English   â”‚        â”‚
â”‚  â”‚ â€¢ Claude    â”‚  â”‚ â€¢ ç´¢å¼•åˆ†æ   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  â”‚ â€¢ Gemini    â”‚  â”‚ â€¢ æ€§èƒ½è¯Šæ–­   â”‚                         â”‚
â”‚  â”‚ â€¢ Qwen      â”‚  â”‚ â€¢ EXPLAIN   â”‚                         â”‚
â”‚  â”‚ â€¢ Ollama    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚                                 â”‚
â”‚                          â–¼                                  â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                   â”‚ PostgreSQL  â”‚                          â”‚
â”‚                   â”‚  Database   â”‚                          â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¡¹ç›®ç»“æ„

```
ai_agent/
â”œâ”€â”€ db_agent/                      # ä¸»ç¨‹åºåŒ…
â”‚   â”œâ”€â”€ __init__.py                # åŒ…å¯¼å‡º
â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ agent.py               # SQLTuningAgent æ™ºèƒ½ä½“
â”‚   â”‚   â””â”€â”€ database.py            # DatabaseTools æ•°æ®åº“å·¥å…·
â”‚   â”œâ”€â”€ llm/                       # LLM å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ base.py                # åŸºç±»
â”‚   â”‚   â”œâ”€â”€ openai_compatible.py   # OpenAI/DeepSeek/Qwen/Ollama
â”‚   â”‚   â”œâ”€â”€ claude.py              # Anthropic Claude
â”‚   â”‚   â”œâ”€â”€ gemini.py              # Google Gemini
â”‚   â”‚   â””â”€â”€ factory.py             # å®¢æˆ·ç«¯å·¥å‚
â”‚   â”œâ”€â”€ api/                       # API æœåŠ¡
â”‚   â”‚   â””â”€â”€ server.py              # FastAPI åº”ç”¨
â”‚   â”œâ”€â”€ cli/                       # å‘½ä»¤è¡Œç•Œé¢
â”‚   â”‚   â”œâ”€â”€ app.py                 # CLI åº”ç”¨
â”‚   â”‚   â””â”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ i18n/                      # å›½é™…åŒ–
â”‚       â””â”€â”€ translations.py        # ç¿»è¯‘æ–‡ä»¶
â”œâ”€â”€ config/                        # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ config.ini                 # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/                       # å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ start.sh                   # Linux/macOS
â”‚   â””â”€â”€ start.bat                  # Windows
â”œâ”€â”€ examples/                      # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ examples.py
â”œâ”€â”€ main.py                        # ç¨‹åºå…¥å£
â”œâ”€â”€ requirements.txt               # ä¾èµ–æ¸…å•
â””â”€â”€ README.md                      # è¯´æ˜æ–‡æ¡£
```

---

## ğŸ“¦ å®‰è£…éƒ¨ç½²

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- PostgreSQL 12+
- è‡³å°‘ä¸€ä¸ª LLM API Keyï¼ˆDeepSeek / OpenAI / Claude ç­‰ï¼‰

### æ–¹å¼ä¸€ï¼šç›´æ¥å®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/db-agent.git
cd db-agent

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. é…ç½®
cp config/config.ini.example config/config.ini
# ç¼–è¾‘ config/config.iniï¼Œå¡«å†™æ•°æ®åº“è¿æ¥ä¿¡æ¯å’Œ API Key

# 4. å¯åŠ¨
python main.py
```

### æ–¹å¼äºŒï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬

**Linux / macOS:**
```bash
chmod +x scripts/start.sh
./scripts/start.sh
```

**Windows:**
```cmd
scripts\start.bat
```

### ä¾èµ–æ¸…å•

```
requirements.txt
â”œâ”€â”€ psycopg2-binary  # PostgreSQL é©±åŠ¨
â”œâ”€â”€ openai           # OpenAI/DeepSeek API
â”œâ”€â”€ anthropic        # Claude API
â”œâ”€â”€ google-generativeai  # Gemini API
â”œâ”€â”€ rich             # ç»ˆç«¯ç¾åŒ–
â”œâ”€â”€ prompt-toolkit   # å‘½ä»¤è¡Œå¢å¼º
â”œâ”€â”€ fastapi          # API æœåŠ¡
â””â”€â”€ uvicorn          # ASGI æœåŠ¡å™¨
```

---

## âš¡ å¿«é€Ÿå¼€å§‹

### 1. é…ç½®æ–‡ä»¶

ç¼–è¾‘ `config/config.ini`ï¼š

```ini
[database]
host = localhost
port = 5432
database = your_database
user = postgres
password = your_password

[llm]
default_provider = deepseek

[deepseek]
api_key = sk-your-deepseek-api-key
model = deepseek-chat

[openai]
api_key = sk-your-openai-api-key
model = gpt-4o

[claude]
api_key = sk-ant-your-claude-api-key
model = claude-sonnet-4-20250514
```

### 2. å¯åŠ¨ CLI

```bash
python main.py
```

### 3. å¼€å§‹å¯¹è¯

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  æ•°æ®åº“æ™ºèƒ½åŠ©æ‰‹ - DeepSeek / deepseek-chat â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

âœ“ å·²è¿æ¥: PostgreSQL 16.4

è¾“å…¥ /help æŸ¥çœ‹å¸®åŠ©ï¼Œ/model åˆ‡æ¢æ¨¡å‹ï¼Œ/language åˆ‡æ¢è¯­è¨€ï¼Œ/exit é€€å‡º

De> åˆ—å‡ºæ‰€æœ‰è¡¨
  â— åˆ—å‡ºè¡¨
    âœ“ è¿”å› 12 æ¡è®°å½•

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ å½“å‰æ•°æ®åº“å…±æœ‰ 12 å¼ è¡¨ï¼š                                  â”‚
â”‚                                                         â”‚
â”‚ | è¡¨å | å¤§å° |                                          â”‚
â”‚ |------|------|                                          â”‚
â”‚ | users | 2.5 MB |                                       â”‚
â”‚ | orders | 15.8 MB |                                     â”‚
â”‚ | products | 1.2 MB |                                    â”‚
â”‚ | ...  | ... |                                           â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### 4. å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |
| `/model` | åˆ‡æ¢ AI æ¨¡å‹ |
| `/language` | åˆ‡æ¢è¯­è¨€ï¼ˆä¸­/è‹±ï¼‰ |
| `/reset` | é‡ç½®å¯¹è¯å†å² |
| `/history` | æŸ¥çœ‹å¯¹è¯å†å² |
| `/clear` | æ¸…å± |
| `/exit` | é€€å‡ºç¨‹åº |

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ä¸€ï¼šå¼€å‘è€…æ—¥å¸¸æŸ¥è¯¢

**ä¼ ç»Ÿæ–¹å¼ï¼š** æ‰“å¼€æ•°æ®åº“å®¢æˆ·ç«¯ â†’ æŸ¥çœ‹è¡¨ç»“æ„ â†’ ç¼–å†™ SQL â†’ è°ƒè¯• â†’ æ‰§è¡Œ

**DB Agent æ–¹å¼ï¼š**
```
ğŸ‘¤: æŸ¥çœ‹æœ€è¿‘7å¤©æ¯å¤©çš„è®¢å•æ•°é‡å’Œæ€»é‡‘é¢

ğŸ¤–: å¥½çš„ï¼Œæˆ‘æ¥æŸ¥è¯¢æœ€è¿‘7å¤©çš„è®¢å•ç»Ÿè®¡...

    | æ—¥æœŸ | è®¢å•æ•° | æ€»é‡‘é¢ |
    |------|--------|--------|
    | 2024-01-20 | 156 | Â¥45,230.00 |
    | 2024-01-19 | 143 | Â¥38,920.00 |
    | ... | ... | ... |
```

### åœºæ™¯äºŒï¼šç´§æ€¥æ•…éšœæ’æŸ¥

**å‡Œæ™¨3ç‚¹ï¼Œç³»ç»Ÿå‘Šè­¦ï¼šæ•°æ®åº“å“åº”ç¼“æ…¢**

```
ğŸ‘¤: ç°åœ¨æœ‰å“ªäº›æ­£åœ¨æ‰§è¡Œçš„æ…¢æŸ¥è¯¢ï¼Ÿ

ğŸ¤–: å‘ç° 3 ä¸ªé•¿æ—¶é—´è¿è¡Œçš„æŸ¥è¯¢ï¼š

    1. PID: 12345 | è¿è¡Œæ—¶é—´: 45.2ç§’
       SELECT * FROM logs WHERE created_at > ...
       âš ï¸ é—®é¢˜ï¼šå…¨è¡¨æ‰«æ logs è¡¨ï¼ˆ2000ä¸‡è¡Œï¼‰

    2. PID: 12346 | è¿è¡Œæ—¶é—´: 23.8ç§’
       UPDATE orders SET status = ...
       âš ï¸ é—®é¢˜ï¼šé”ç­‰å¾…

    å»ºè®®ï¼š
    - è€ƒè™‘ç»ˆæ­¢ PID 12345
    - ä¸º logs.created_at æ·»åŠ ç´¢å¼•

ğŸ‘¤: å¸®æˆ‘åˆ›å»ºé‚£ä¸ªç´¢å¼•

ğŸ¤–: å°†åˆ›å»ºç´¢å¼•ï¼š
    CREATE INDEX CONCURRENTLY idx_logs_created_at ON logs(created_at);

    âš ï¸ è¿™æ˜¯ä¸€ä¸ªåœ¨çº¿åˆ›å»ºç´¢å¼•æ“ä½œï¼Œä¸ä¼šé”è¡¨ï¼Œä½†å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿã€‚
    ç¡®è®¤æ‰§è¡Œå—ï¼Ÿ[æ˜¯/å¦]
```

### åœºæ™¯ä¸‰ï¼šæ•°æ®åˆ†æå¸ˆææ•°

**äº§å“ç»ç†ï¼šæˆ‘éœ€è¦ä¸€ä»½ç”¨æˆ·åˆ†ææŠ¥å‘Š**

```
ğŸ‘¤: ç»Ÿè®¡æ¯ä¸ªç”¨æˆ·ç­‰çº§çš„ç”¨æˆ·æ•°é‡ã€å¹³å‡è®¢å•é‡‘é¢ã€æœ€åæ´»è·ƒæ—¶é—´åˆ†å¸ƒ

ğŸ¤–: å¥½çš„ï¼Œæˆ‘æ¥ç”Ÿæˆè¿™ä»½åˆ†ææŠ¥å‘Š...

    | ç”¨æˆ·ç­‰çº§ | ç”¨æˆ·æ•° | å¹³å‡è®¢å•é‡‘é¢ | 30å¤©å†…æ´»è·ƒ | 90å¤©å†…æ´»è·ƒ | ä¸æ´»è·ƒ |
    |---------|--------|-------------|-----------|-----------|--------|
    | VIP     | 1,234  | Â¥892.50     | 78%       | 15%       | 7%     |
    | é«˜çº§    | 5,678  | Â¥456.30     | 65%       | 22%       | 13%    |
    | æ™®é€š    | 23,456 | Â¥123.80     | 45%       | 30%       | 25%    |

    ğŸ’¡ æ´å¯Ÿï¼š
    - VIP ç”¨æˆ·æ´»è·ƒåº¦æœ€é«˜ï¼Œä½†å æ¯”ä»… 4%
    - æ™®é€šç”¨æˆ·ä¸­æœ‰ 25% å·²ä¸æ´»è·ƒï¼Œå»ºè®®è¿›è¡Œå¬å›è¥é”€
```

### åœºæ™¯å››ï¼šæ–°é¡¹ç›®è¡¨ç»“æ„è®¾è®¡

```
ğŸ‘¤: æˆ‘è¦åšä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œå¸®æˆ‘è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„

ğŸ¤–: å¥½çš„ï¼Œæˆ‘ä¸ºä½ è®¾è®¡ä»¥ä¸‹è¡¨ç»“æ„ï¼š

    1. **users** - ç”¨æˆ·è¡¨
       - id, username, email, password_hash, avatar, created_at

    2. **posts** - æ–‡ç« è¡¨
       - id, user_id, title, content, status, view_count, created_at, updated_at

    3. **categories** - åˆ†ç±»è¡¨
       - id, name, slug, parent_id

    4. **tags** - æ ‡ç­¾è¡¨
       - id, name, slug

    5. **post_tags** - æ–‡ç« æ ‡ç­¾å…³è”è¡¨
       - post_id, tag_id

    6. **comments** - è¯„è®ºè¡¨
       - id, post_id, user_id, content, parent_id, created_at

    éœ€è¦æˆ‘åˆ›å»ºè¿™äº›è¡¨å—ï¼Ÿæˆ‘å¯ä»¥ç”Ÿæˆå®Œæ•´çš„å»ºè¡¨è¯­å¥ã€‚

ğŸ‘¤: å¥½çš„ï¼Œåˆ›å»ºå§

ğŸ¤–: [å±•ç¤ºå®Œæ•´å»ºè¡¨ SQL]
    ç¡®è®¤æ‰§è¡Œå—ï¼Ÿ[æ˜¯/å¦]
```

### åœºæ™¯äº”ï¼šå®šæœŸç»´æŠ¤ä¼˜åŒ–

```
ğŸ‘¤: å¸®æˆ‘åšä¸€æ¬¡å…¨é¢çš„æ•°æ®åº“å¥åº·æ£€æŸ¥

ğŸ¤–: æ­£åœ¨è¿›è¡Œå…¨é¢æ£€æŸ¥...

    ğŸ“Š **æ•°æ®åº“æ¦‚å†µ**
    - ç‰ˆæœ¬ï¼šPostgreSQL 16.4
    - æ•°æ®åº“å¤§å°ï¼š12.5 GB
    - è¡¨æ•°é‡ï¼š45
    - æ´»è·ƒè¿æ¥ï¼š23

    âš ï¸ **å‘ç°çš„é—®é¢˜**

    1. **æ­»å…ƒç»„è¿‡å¤š** (3ä¸ªè¡¨)
       - orders: 15% æ­»å…ƒç»„ï¼Œå»ºè®® VACUUM
       - logs: 23% æ­»å…ƒç»„ï¼Œå»ºè®® VACUUM FULL
       - sessions: 45% æ­»å…ƒç»„ï¼Œç´§æ€¥ï¼

    2. **æœªä½¿ç”¨çš„ç´¢å¼•** (5ä¸ª)
       - idx_users_old_email: ä»æœªä½¿ç”¨ï¼Œå ç”¨ 56MB
       - idx_orders_legacy: ä»æœªä½¿ç”¨ï¼Œå ç”¨ 128MB
       ...

    3. **ç¼ºå°‘ç´¢å¼•** (2ä¸ªæŸ¥è¯¢)
       - orders.customer_id ç»å¸¸è¢«æŸ¥è¯¢ä½†æ— ç´¢å¼•
       - products.category_id ç»å¸¸è¢«æŸ¥è¯¢ä½†æ— ç´¢å¼•

    4. **å¤§è¡¨é¢„è­¦**
       - logs è¡¨å·²è¾¾ 5GBï¼Œå»ºè®®è€ƒè™‘åˆ†åŒºæˆ–å½’æ¡£

    âœ… **ä¼˜åŒ–å»ºè®®**
    1. ç«‹å³æ‰§è¡Œï¼šVACUUM ANALYZE sessions;
    2. è®¡åˆ’æ‰§è¡Œï¼šåˆ é™¤ 5 ä¸ªæœªä½¿ç”¨ç´¢å¼•ï¼Œé‡Šæ”¾ 280MB
    3. é•¿æœŸè§„åˆ’ï¼šlogs è¡¨æŒ‰æœˆåˆ†åŒº

    éœ€è¦æˆ‘æ‰§è¡Œè¿™äº›ä¼˜åŒ–æ“ä½œå—ï¼Ÿ
```

### åœºæ™¯å…­ï¼šéæŠ€æœ¯äººå‘˜ä½¿ç”¨

**è¿è¥åŒäº‹æƒ³æŸ¥æ•°æ®ï¼Œä½†ä¸ä¼šå†™ SQL**

```
ğŸ‘¤: æˆ‘æƒ³çœ‹çœ‹ä¸Šå‘¨é”€å”®é¢æœ€é«˜çš„10ä¸ªå•†å“

ğŸ¤–: å¥½çš„ï¼Œæˆ‘æ¥æŸ¥è¯¢ä¸Šå‘¨é”€å”®é¢ TOP 10 å•†å“...

    | æ’å | å•†å“åç§° | é”€é‡ | é”€å”®é¢ |
    |------|----------|------|--------|
    | 1 | iPhone 15 Pro | 234 | Â¥1,872,000 |
    | 2 | MacBook Air M3 | 156 | Â¥1,248,000 |
    | 3 | AirPods Pro 2 | 445 | Â¥889,110 |
    | ... | ... | ... | ... |

ğŸ‘¤: è¿™äº›å•†å“ä¸»è¦æ˜¯å“ªäº›åœ°åŒºçš„ç”¨æˆ·è´­ä¹°çš„ï¼Ÿ

ğŸ¤–: æˆ‘æ¥åˆ†æè¿™äº›çƒ­é”€å•†å“çš„è´­ä¹°åœ°åŒºåˆ†å¸ƒ...
    [AI è®°å¾—ä¸Šä¸‹æ–‡ï¼Œè‡ªåŠ¨åˆ†æè¿™ 10 ä¸ªå•†å“]
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®

```ini
[database]
host = localhost      # æ•°æ®åº“ä¸»æœº
port = 5432          # ç«¯å£å·
database = mydb      # æ•°æ®åº“å
user = postgres      # ç”¨æˆ·å
password = secret    # å¯†ç 
```

### LLM æä¾›å•†é…ç½®

æ”¯æŒçš„æä¾›å•†åŠé…ç½®æ–¹å¼ï¼š

#### DeepSeekï¼ˆæ¨èï¼Œæ€§ä»·æ¯”é«˜ï¼‰
```ini
[deepseek]
api_key = sk-your-api-key
model = deepseek-chat
```

#### OpenAI / ChatGPT
```ini
[openai]
api_key = sk-your-api-key
model = gpt-4o
```

#### Anthropic Claude
```ini
[claude]
api_key = sk-ant-your-api-key
model = claude-sonnet-4-20250514
```

#### Google Gemini
```ini
[gemini]
api_key = your-api-key
model = gemini-pro
```

#### é˜¿é‡Œäº‘é€šä¹‰åƒé—®
```ini
[qwen]
api_key = your-api-key
model = qwen-turbo
```

#### Ollamaï¼ˆæœ¬åœ°éƒ¨ç½²ï¼Œå…è´¹ï¼‰
```ini
[ollama]
api_key = ollama
model = llama2
base_url = http://localhost:11434/v1
```

---

## ğŸŒ API æœåŠ¡

DB Agent æä¾› RESTful APIï¼Œæ–¹ä¾¿é›†æˆåˆ°å…¶ä»–ç³»ç»Ÿã€‚

### å¯åŠ¨ API æœåŠ¡

```bash
python -m db_agent.api.server
# æˆ–æŒ‡å®šç«¯å£
PORT=8080 python -m db_agent.api.server
```

### API ç«¯ç‚¹

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| POST | `/api/v1/sessions` | åˆ›å»ºä¼šè¯ |
| POST | `/api/v1/chat` | å‘é€æ¶ˆæ¯ |
| GET | `/api/v1/sessions` | åˆ—å‡ºä¼šè¯ |
| GET | `/api/v1/sessions/{id}/history` | è·å–å†å² |
| DELETE | `/api/v1/sessions/{id}` | åˆ é™¤ä¼šè¯ |
| POST | `/api/v1/sessions/{id}/reset` | é‡ç½®ä¼šè¯ |
| GET | `/api/v1/health` | å¥åº·æ£€æŸ¥ |

### ä½¿ç”¨ç¤ºä¾‹

```python
import requests

BASE_URL = "http://localhost:8000"

# 1. åˆ›å»ºä¼šè¯
resp = requests.post(f"{BASE_URL}/api/v1/sessions", json={
    "config": {
        "db_host": "localhost",
        "db_port": 5432,
        "db_name": "mydb",
        "db_user": "postgres",
        "db_password": "secret"
    }
})
session_id = resp.json()["session_id"]
print(f"ä¼šè¯ID: {session_id}")

# 2. å‘é€æ¶ˆæ¯
resp = requests.post(f"{BASE_URL}/api/v1/chat", json={
    "session_id": session_id,
    "message": "åˆ—å‡ºæ‰€æœ‰è¡¨"
})
print(resp.json()["response"])

# 3. ç»§ç»­å¯¹è¯ï¼ˆAI ä¼šè®°ä½ä¸Šä¸‹æ–‡ï¼‰
resp = requests.post(f"{BASE_URL}/api/v1/chat", json={
    "session_id": session_id,
    "message": "ç¬¬ä¸€ä¸ªè¡¨æœ‰å¤šå°‘æ¡æ•°æ®ï¼Ÿ"
})
print(resp.json()["response"])

# 4. åˆ é™¤ä¼šè¯
requests.delete(f"{BASE_URL}/api/v1/sessions/{session_id}")
```

### API æ–‡æ¡£

å¯åŠ¨æœåŠ¡åè®¿é—®ï¼š
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

---

## ğŸ”’ å®‰å…¨æœºåˆ¶

### 1. æ“ä½œç¡®è®¤æœºåˆ¶

æ‰€æœ‰å±é™©æ“ä½œï¼ˆINSERT / UPDATE / DELETE / DROP / CREATE ç­‰ï¼‰éƒ½éœ€è¦ç”¨æˆ·äºŒæ¬¡ç¡®è®¤ï¼š

```
ğŸ¤–: å³å°†æ‰§è¡Œä»¥ä¸‹ SQLï¼š

    DELETE FROM users WHERE status = 'inactive';

    âš ï¸ æ­¤æ“ä½œå°†å½±å“ 1,234 è¡Œæ•°æ®
    ç¡®è®¤æ‰§è¡Œå—ï¼Ÿ[æ˜¯/å¦]
```

### 2. åªè¯»æŸ¥è¯¢ä¿æŠ¤

`execute_safe_query` å·¥å…·åªå…è®¸ SELECT æŸ¥è¯¢ï¼Œé˜²æ­¢è¯¯æ“ä½œï¼š

```python
# åªå…è®¸ SELECTï¼Œå…¶ä»–è¯­å¥ä¼šè¢«æ‹’ç»
result = db_tools.execute_safe_query("SELECT * FROM users")  # âœ…
result = db_tools.execute_safe_query("DELETE FROM users")    # âŒ è¢«æ‹’ç»
```

### 3. ç´¢å¼•åˆ›å»ºä¿æŠ¤

é»˜è®¤ä½¿ç”¨ `CONCURRENTLY` åˆ›å»ºç´¢å¼•ï¼Œä¸é”è¡¨ï¼š

```sql
-- Agent è‡ªåŠ¨è½¬æ¢ä¸ºï¼š
CREATE INDEX CONCURRENTLY idx_name ON table(column);
```

### 4. æ•°æ®åº“ç‰ˆæœ¬æ„ŸçŸ¥

Agent è‡ªåŠ¨æ£€æµ‹ PostgreSQL ç‰ˆæœ¬ï¼Œç”Ÿæˆå…¼å®¹çš„ SQLï¼š

```
ğŸ¤–: æ£€æµ‹åˆ° PostgreSQL 16.4
    å°†ä½¿ç”¨å…¼å®¹æ­¤ç‰ˆæœ¬çš„ SQL è¯­æ³•
```

---

## â“ å¸¸è§é—®é¢˜

### Q: æ”¯æŒå“ªäº›æ•°æ®åº“ï¼Ÿ
**A:** ç›®å‰æ”¯æŒ PostgreSQL 12+ã€‚MySQLã€SQL Server ç­‰æ”¯æŒæ­£åœ¨å¼€å‘ä¸­ã€‚

### Q: ä¼šä¸ä¼šè¯¯æ“ä½œåˆ é™¤æ•°æ®ï¼Ÿ
**A:** ä¸ä¼šã€‚æ‰€æœ‰ INSERT/UPDATE/DELETE/DROP ç­‰å±é™©æ“ä½œéƒ½éœ€è¦äºŒæ¬¡ç¡®è®¤ï¼Œä½ å¯ä»¥é¢„è§ˆå°†è¦æ‰§è¡Œçš„ SQL åå†å†³å®šæ˜¯å¦æ‰§è¡Œã€‚

### Q: API Key å®‰å…¨å—ï¼Ÿ
**A:** API Key å­˜å‚¨åœ¨æœ¬åœ°é…ç½®æ–‡ä»¶ä¸­ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚å»ºè®®è®¾ç½®é€‚å½“çš„æ–‡ä»¶æƒé™ä¿æŠ¤é…ç½®æ–‡ä»¶ã€‚

### Q: å¯ä»¥è¿æ¥è¿œç¨‹æ•°æ®åº“å—ï¼Ÿ
**A:** å¯ä»¥ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å†™è¿œç¨‹æ•°æ®åº“çš„åœ°å€å’Œå‡­æ®å³å¯ã€‚è¯·ç¡®ä¿ç½‘ç»œå¯è¾¾ä¸”é˜²ç«å¢™å…è®¸è¿æ¥ã€‚

### Q: æ”¯æŒå¤šæ•°æ®åº“åˆ‡æ¢å—ï¼Ÿ
**A:** ç›®å‰ä¸€ä¸ªä¼šè¯è¿æ¥ä¸€ä¸ªæ•°æ®åº“ã€‚å¦‚éœ€åˆ‡æ¢æ•°æ®åº“ï¼Œè¯·é‡å¯ç¨‹åºå¹¶ä¿®æ”¹é…ç½®ã€‚

### Q: å¦‚ä½•å¤„ç†å¤§ç»“æœé›†ï¼Ÿ
**A:** Agent ä¼šè‡ªåŠ¨é™åˆ¶è¿”å›çš„æ•°æ®é‡ã€‚å¦‚éœ€æŸ¥çœ‹æ›´å¤šæ•°æ®ï¼Œå¯ä»¥æ˜ç¡®å‘Šè¯‰ Agent ä½ éœ€è¦å¤šå°‘æ¡è®°å½•ã€‚

### Q: pg_stat_statements æœªå¯ç”¨æ€ä¹ˆåŠï¼Ÿ
**A:** ä¸å½±å“ä½¿ç”¨ã€‚Agent ä¼šè‡ªåŠ¨é™çº§ä½¿ç”¨ `pg_stat_activity` æ¥æŸ¥çœ‹å½“å‰æŸ¥è¯¢ã€‚å¦‚éœ€å†å²æ…¢æŸ¥è¯¢åˆ†æï¼Œè¯·å¯ç”¨ pg_stat_statementsï¼š

```sql
-- postgresql.conf
shared_preload_libraries = 'pg_stat_statements'

-- é‡å¯åæ‰§è¡Œ
CREATE EXTENSION pg_stat_statements;
```

### Q: ä½¿ç”¨å“ªä¸ª LLM æ¨¡å‹æ•ˆæœæœ€å¥½ï¼Ÿ
**A:** æ¨èï¼š
- **æ€§ä»·æ¯”é¦–é€‰**: DeepSeekï¼ˆä¾¿å®œä¸”æ•ˆæœå¥½ï¼‰
- **æ•ˆæœæœ€ä½³**: Claude Sonnet æˆ– GPT-4o
- **å…è´¹æ–¹æ¡ˆ**: Ollama æœ¬åœ°éƒ¨ç½² Llama2

---

## ğŸ›  Agent å·¥å…·é›†

Agent å¯è‡ªåŠ¨è°ƒç”¨ä»¥ä¸‹æ•°æ®åº“å·¥å…·ï¼š

| å·¥å…· | è¯´æ˜ | ç”¨é€” |
|------|------|------|
| `list_tables` | åˆ—å‡ºæ‰€æœ‰è¡¨ | äº†è§£æ•°æ®åº“ç»“æ„ |
| `describe_table` | æŸ¥çœ‹è¡¨ç»“æ„ | äº†è§£å­—æ®µä¿¡æ¯ |
| `get_sample_data` | è·å–ç¤ºä¾‹æ•°æ® | äº†è§£æ•°æ®æ ¼å¼ |
| `execute_sql` | æ‰§è¡Œä»»æ„ SQL | å¢åˆ æ”¹æŸ¥æ“ä½œ |
| `execute_safe_query` | æ‰§è¡Œåªè¯»æŸ¥è¯¢ | å®‰å…¨æŸ¥è¯¢æ•°æ® |
| `run_explain` | åˆ†ææ‰§è¡Œè®¡åˆ’ | æ€§èƒ½è¯Šæ–­ |
| `check_index_usage` | æ£€æŸ¥ç´¢å¼•ä½¿ç”¨ | ç´¢å¼•ä¼˜åŒ– |
| `get_table_stats` | è·å–è¡¨ç»Ÿè®¡ | å¥åº·æ£€æŸ¥ |
| `create_index` | åˆ›å»ºç´¢å¼• | æ€§èƒ½ä¼˜åŒ– |
| `analyze_table` | æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ | ç»´æŠ¤ä¼˜åŒ– |
| `identify_slow_queries` | è¯†åˆ«æ…¢æŸ¥è¯¢ | æ€§èƒ½è¯Šæ–­ |
| `get_running_queries` | æŸ¥çœ‹è¿è¡Œä¸­æŸ¥è¯¢ | å®æ—¶ç›‘æ§ |

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®®å¼€æºã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æäº¤ Pull Request

---

## ğŸ“® è”ç³»æˆ‘ä»¬

- æäº¤ Issue: [GitHub Issues](https://github.com/your-repo/db-agent/issues)
- é‚®ç®±: your-email@example.com

---

<p align="center">
  <b>ğŸš€ è®©æ¯ä¸ªäººéƒ½èƒ½è½»æ¾ç®¡ç†æ•°æ®åº“ï¼Œè®© DBA å»åšæ›´æœ‰ä»·å€¼çš„äº‹</b><br><br>
  <sub>Built with â¤ï¸ by DB Agent Team</sub>
</p>
